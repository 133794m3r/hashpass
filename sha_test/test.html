<html lang="en">
<head>
<META HTTP-EQUIV='CONTENT-TYPE' CONTENT='text/html; charset=utf-8'>
    <title>scrypt test</title>
        <script src="../string.js" type='text/javascript'></script>
        <script src="../math.js" type="text/javascript"></script>
        <script src='test.js' type='text/javascript'></script>
        <script src='sha1.js' type='text/javascript'></script>
        <script src='sha2.js' type='text/javascript'></script>
        <script src='sha256.js' type='text/javascript'></script>
        <script src='sha256_fast.js' type='text/javascript'></script>        
        <script src='sha256_combined.js' type='text/javascript' async defer></script>
</head>
<body>
    <script type="text/javascript">
        var the_mean=0;
        var the_std_dev=0;
        var heap_size=Math.floor(131072*6);
        var sha_string_heap=new Array(heap_size);
        var sha_uint_heap=new Uint8Array(heap_size);
        function inc_do_test(){
        var n=document.getElementById('n').value;
        n=parseInt(n);
        document.getElementById('n').value=n+1;
        n=n*100;
        var results=document.getElementById('results');
        p=n*iterations;
        
        do_test(n);
        var hps=((1/the_mean+(the_std_dev/2))).toFixed(3);
        var str='sha256_new rounds '+n+'<br />'+'the mean:'+the_mean+'<br />std dev:'+the_std_dev+'<br /> hashes/second: '+hps+'<br />';
        results.insertAdjacentHTML('afterbegin',str);
        
        /*
        do_test1(n);
        var hps=((1/the_mean+(the_std_dev/2))).toFixed(3);
        var str='sha256_old rounds ' +n+'<br />'+'the mean:'+the_mean+'<br />std dev:'+the_std_dev+'<br /> hashes/second: '+hps+'<br />';
        results.insertAdjacentHTML('afterbegin',str);
    
        do_test2(n);
        var hps=((1/the_mean+(the_std_dev/2))).toFixed(3);
        var str='sha256_asm rounds ' +n+'<br />'+'the mean:'+the_mean+'<br />std dev:'+the_std_dev+'<br /> hashes/second: '+hps+'<br />';
        results.insertAdjacentHTML('afterbegin',str);
       */
        
        do_test3(n);
        var hps=((1/the_mean+(the_std_dev/2))).toFixed(3);
        var str='sha256_fast rounds ' +p+'<br />'+'the mean:'+the_mean+'<br />std dev:'+the_std_dev+'<br /> hashes/second: '+hps+'<br />';
        results.insertAdjacentHTML('afterbegin',str);        
        
        do_test3a(n);
        var hps=((1/the_mean+(the_std_dev/2))).toFixed(3);
        var str='sha256_fast_a rounds ' +p+'<br />'+'the mean:'+the_mean+'<br />std dev:'+the_std_dev+'<br /> hashes/second: '+hps+'<br />';
        results.insertAdjacentHTML('afterbegin',str);        
        
        results.insertAdjacentHTML('afterend','block size:'+Math.floor(heap_size/1024)+'KiB');
    }
    </script>
    <input type="text" value='1' id='n'/>
    <input type="button" onclick="javascript:inc_do_test()" />
    <p id="results">
        
    </p>
<!--

 Awesome Password Generator aka HashPass
 Copyright (c) Macarthur Inbody 2011-2017 
licensed under AGPLv3
 https://github.com/133794m3r/hashpass

-->
</body>
</html>
